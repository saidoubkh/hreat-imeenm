/* script.js */

const container = document.querySelector('.container');
const heart = document.getElementById('heartWrapper');

// 1. ???? ?????? (3D Tilt Effect)
container.addEventListener('mousemove', (e) => {
    // ????? ????????? ???????? ?????? ????? ?????? ?????
    heart.style.animation = 'none';
    heart.style.transition = 'none'; // ????? ??????? ???? ?????? ?????

    const rect = container.getBoundingClientRect();
    // ?????? ???? ????? ????? ????? ??? ???? ??????
    const xAxis = (window.innerWidth / 2 - e.pageX) / 15;
    const yAxis = (window.innerHeight / 2 - e.pageY) / 15;

    heart.style.transform = `rotateY(${xAxis}deg) rotateX(${yAxis}deg) scale(1.05)`;
});

// 2. ??? ???? ?????? ?? ???????
container.addEventListener('mouseleave', () => {
    // ????? ??????? ??????
    heart.style.transition = 'transform 0.5s ease';
    // ????? ????? ????? ????????
    heart.style.animation = 'heartbeat 3s infinite ease-in-out';
    // ????? ??????? (???????? ??? ????????? ?????? ?????)
    heart.style.transform = 'rotateY(0deg) rotateX(0deg)';
});

// 3. ??? ????? (?????/????? ????)
heart.addEventListener('click', () => {
    heart.classList.toggle('reveal');

});
// --- كود جديد لجعل الحركة تعمل باللمس على الهاتف ---

container.addEventListener('touchmove', (e) => {
    e.preventDefault(); // هذا السطر يمنع الشاشة من التحرك (Scroll) أثناء اللمس
    let touch = e.touches[0]; // التقاط مكان الإصبع الأول
    let xAxis = (window.innerWidth / 2 - touch.pageX) / 15;
    let yAxis = (window.innerHeight / 2 - touch.pageY) / 15;
    card.style.transform = `rotateY(${xAxis}deg) rotateX(${yAxis}deg)`;
});

container.addEventListener('touchend', (e) => {
    card.style.transition = 'transform 0.5s ease';
    card.style.transform = 'rotateY(0deg) rotateX(0deg)';
});
